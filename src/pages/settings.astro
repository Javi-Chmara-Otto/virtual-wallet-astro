---
import Layout from "../layouts/layout.astro";

// Datos de ejemplo para las configuraciones
const settings = {
    notifications: {
        email: true,
        push: false,
        transactions: true,
        marketing: false,
        security: true,
    },
    privacy: {
        profileVisibility: "public",
        showBalance: true,
        showActivity: true,
    },
    display: {
        theme: "light",
        currency: "USD",
        language: "es",
        dateFormat: "DD/MM/YYYY",
    },
};
---

<Layout title="Configuración - Mi Billetera Virtual" currentPath="/settings">
    <div class="space-y-6">
        <!-- Encabezado -->
        <div class="flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-800">Configuración</h1>
            <button
                class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"
            >
                Guardar Cambios
            </button>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Menú de Navegación -->
            <div class="lg:col-span-1">
                <div
                    class="bg-white rounded-xl shadow-sm border border-gray-100"
                >
                    <div class="p-4">
                        <nav class="space-y-1">
                            <a
                                href="#notifications"
                                class="flex items-center px-4 py-2 text-purple-600 bg-purple-50 rounded-lg"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="h-5 w-5 mr-3"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
                                    ></path>
                                </svg>
                                Notificaciones
                            </a>
                            <a
                                href="#privacy"
                                class="flex items-center px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-lg"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="h-5 w-5 mr-3"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                                    ></path>
                                </svg>
                                Privacidad
                            </a>
                            <a
                                href="#display"
                                class="flex items-center px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-lg"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="h-5 w-5 mr-3"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                                    ></path>
                                </svg>
                                Pantalla
                            </a>
                        </nav>
                    </div>
                </div>
            </div>

            <!-- Contenido Principal -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Notificaciones -->
                <div
                    id="notifications"
                    class="bg-white rounded-xl shadow-sm border border-gray-100"
                >
                    <div class="p-6 border-b border-gray-100">
                        <h3 class="text-lg font-semibold text-gray-800">
                            Notificaciones
                        </h3>
                    </div>
                    <div class="p-6 space-y-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="font-medium text-gray-800">
                                    Notificaciones por correo
                                </h4>
                                <p class="text-sm text-gray-500">
                                    Recibe actualizaciones en tu correo
                                    electrónico
                                </p>
                            </div>
                            <label
                                class="relative inline-flex items-center cursor-pointer"
                            >
                                <input
                                    type="checkbox"
                                    class="sr-only peer"
                                    checked={settings.notifications.email}
                                />
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"
                                >
                                </div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="font-medium text-gray-800">
                                    Notificaciones push
                                </h4>
                                <p class="text-sm text-gray-500">
                                    Recibe notificaciones en tu navegador
                                </p>
                            </div>
                            <label
                                class="relative inline-flex items-center cursor-pointer"
                            >
                                <input
                                    type="checkbox"
                                    class="sr-only peer"
                                    checked={settings.notifications.push}
                                />
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"
                                >
                                </div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="font-medium text-gray-800">
                                    Alertas de transacciones
                                </h4>
                                <p class="text-sm text-gray-500">
                                    Notificaciones sobre tus movimientos
                                </p>
                            </div>
                            <label
                                class="relative inline-flex items-center cursor-pointer"
                            >
                                <input
                                    type="checkbox"
                                    class="sr-only peer"
                                    checked={settings.notifications
                                        .transactions}
                                />
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"
                                >
                                </div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Privacidad -->
                <div
                    id="privacy"
                    class="bg-white rounded-xl shadow-sm border border-gray-100"
                >
                    <div class="p-6 border-b border-gray-100">
                        <h3 class="text-lg font-semibold text-gray-800">
                            Privacidad
                        </h3>
                    </div>
                    <div class="p-6 space-y-6">
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-700 mb-2"
                            >
                                Visibilidad del perfil
                            </label>
                            <select
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            >
                                <option
                                    value="public"
                                    selected={settings.privacy
                                        .profileVisibility === "public"}
                                    >Público</option
                                >
                                <option
                                    value="private"
                                    selected={settings.privacy
                                        .profileVisibility === "private"}
                                    >Privado</option
                                >
                                <option
                                    value="friends"
                                    selected={settings.privacy
                                        .profileVisibility === "friends"}
                                    >Solo amigos</option
                                >
                            </select>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="font-medium text-gray-800">
                                    Mostrar saldo
                                </h4>
                                <p class="text-sm text-gray-500">
                                    Hacer visible tu saldo a otros usuarios
                                </p>
                            </div>
                            <label
                                class="relative inline-flex items-center cursor-pointer"
                            >
                                <input
                                    type="checkbox"
                                    class="sr-only peer"
                                    checked={settings.privacy.showBalance}
                                />
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"
                                >
                                </div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Pantalla -->
                <div
                    id="display"
                    class="bg-white rounded-xl shadow-sm border border-gray-100"
                >
                    <div class="p-6 border-b border-gray-100">
                        <h3 class="text-lg font-semibold text-gray-800">
                            Pantalla
                        </h3>
                    </div>
                    <div class="p-6 space-y-6">
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-700 mb-2"
                            >
                                Tema
                            </label>
                            <select
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            >
                                <option
                                    value="light"
                                    selected={settings.display.theme ===
                                        "light"}>Claro</option
                                >
                                <option
                                    value="dark"
                                    selected={settings.display.theme === "dark"}
                                    >Oscuro</option
                                >
                                <option
                                    value="system"
                                    selected={settings.display.theme ===
                                        "system"}>Sistema</option
                                >
                            </select>
                        </div>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-700 mb-2"
                            >
                                Formato de fecha
                            </label>
                            <select
                                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            >
                                <option
                                    value="DD/MM/YYYY"
                                    selected={settings.display.dateFormat ===
                                        "DD/MM/YYYY"}>DD/MM/YYYY</option
                                >
                                <option
                                    value="MM/DD/YYYY"
                                    selected={settings.display.dateFormat ===
                                        "MM/DD/YYYY"}>MM/DD/YYYY</option
                                >
                                <option
                                    value="YYYY-MM-DD"
                                    selected={settings.display.dateFormat ===
                                        "YYYY-MM-DD"}>YYYY-MM-DD</option
                                >
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</Layout>

<script>
    // Manejo de la navegación del menú
    document.addEventListener("DOMContentLoaded", () => {
        const menuItems = document.querySelectorAll("nav a");

        menuItems.forEach((item) => {
            item.addEventListener("click", (e) => {
                // Remover clase activa de todos los items
                menuItems.forEach((i) => {
                    i.classList.remove("text-purple-600", "bg-purple-50");
                    i.classList.add("text-gray-600");
                });

                // Agregar clase activa al item seleccionado
                item.classList.remove("text-gray-600");
                item.classList.add("text-purple-600", "bg-purple-50");
            });
        });
    });
</script>
